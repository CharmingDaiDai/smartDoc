<style>#mermaid-1744852522404{font-family:sans-serif;font-size:16px;fill:#333;}#mermaid-1744852522404 .error-icon{fill:#552222;}#mermaid-1744852522404 .error-text{fill:#552222;stroke:#552222;}#mermaid-1744852522404 .edge-thickness-normal{stroke-width:2px;}#mermaid-1744852522404 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-1744852522404 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-1744852522404 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-1744852522404 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-1744852522404 .marker{fill:#333333;}#mermaid-1744852522404 .marker.cross{stroke:#333333;}#mermaid-1744852522404 svg{font-family:sans-serif;font-size:16px;}#mermaid-1744852522404 .label{font-family:sans-serif;color:#333;}#mermaid-1744852522404 .label text{fill:#333;}#mermaid-1744852522404 .node rect,#mermaid-1744852522404 .node circle,#mermaid-1744852522404 .node ellipse,#mermaid-1744852522404 .node polygon,#mermaid-1744852522404 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-1744852522404 .node .label{text-align:center;}#mermaid-1744852522404 .node.clickable{cursor:pointer;}#mermaid-1744852522404 .arrowheadPath{fill:#333333;}#mermaid-1744852522404 .edgePath .path{stroke:#333333;stroke-width:1.5px;}#mermaid-1744852522404 .flowchart-link{stroke:#333333;fill:none;}#mermaid-1744852522404 .edgeLabel{background-color:#e8e8e8;text-align:center;}#mermaid-1744852522404 .edgeLabel rect{opacity:0.5;background-color:#e8e8e8;fill:#e8e8e8;}#mermaid-1744852522404 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-1744852522404 .cluster text{fill:#333;}#mermaid-1744852522404 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:sans-serif;font-size:12px;background:hsl(80,100%,96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-1744852522404:root{--mermaid-font-family:sans-serif;}#mermaid-1744852522404:root{--mermaid-alt-font-family:sans-serif;}#mermaid-1744852522404 flowchart{fill:apa;}</style>

# 智能文档系统 V1.0 使用说明

## 文件修订记录

| 版本号 | 生成日期   | 作者 | 修订内容 |
| ------ | ---------- | ---- | -------- |
| V1.0   | 2025-04-19 |      | 初始版本 |

## 目录

1. 引言
   1.1 编写目的
   1.2 系统创新点
   1.3 系统需求描述
   1.4 应用开发环境
2. 概述
   2.1 总体模块框架
   2.2 模块描述
3. 软件使用说明
   3.1 主界面
   3.2 登录与注册
   3.3 功能选择
   3.4 文档上传与管理
   3.5 摘要生成
   3.6 关键词提取
   3.7 文档润色
   3.8 安全审查
   3.9 仪表盘
4. 数据库对外接口设计
   4.1 Document 表
   4.2 UserActivity 表

---

# 1. 引言

智能文档系统旨在为用户提供一站式的文档管理与智能分析服务，融合文档上传、存储、检索与多种 AI 分析功能，帮助用户快速获取文档价值，提高工作效率。

## 1.1 编写目的

本说明书面向系统使用者与运维工程师，介绍系统功能特性、使用流程和接口规范，帮助业务人员快速上手，支持二次开发工程师了解系统架构与对外接口。

## 1.2 系统创新点

1. 多功能 AI 分析引擎：集成向量检索和大模型分析，支持摘要、关键词、润色、安全审查等功能。
2. 分块并行处理：对大文档智能分块并行调用，保证高效稳定。
3. 全链路活动追踪：记录用户操作和分析任务，提供实时仪表盘和历史查询。
4. 插件化架构：支持按需替换或叠加不同模型，实现多模型协同。

## 1.3 系统需求描述

- 服务器：4 核 CPU、8GB 内存、100GB 磁盘
- 前端：现代浏览器，ES6+ 支持，网络带宽 ≥10Mbps
- 后端：Java 11、Spring Boot 2.5、MySQL 8.0、Redis、MinIO
- 容器：Docker 或 Kubernetes 环境

## 1.4 应用开发环境

- 前端：React 17 + Ant Design + TypeScript
- 后端：Java 11 + Spring Boot 2.5 + Spring Data JPA
- 数据库：MySQL 8.0
- 缓存：Redis
- 存储：MinIO
- IDE：VS Code / IntelliJ IDEA
- 版本控制：Git

---

# 2. 概述

智能文档系统采用分层架构：

- 表示层：React 前端与 RESTful API
- 业务层：Spring Boot 微服务，提供文档管理与智能分析
- 数据层：MySQL 持久化、Redis 缓存、MinIO 对象存储

模块间通过统一接口通信，支持水平扩展与异步任务。

## 2.1 总体模块框架

系统主要模块包括：用户认证、文档管理、智能分析、用户中心、会员服务、仪表盘。

## 2.2 模块描述

- Auth（用户认证）：注册、登录、权限管理。
- Document Management（文档管理）：上传、列表、预览、下载、删除、检索。
- Analysis（智能分析）：摘要、关键词提取、文本润色、安全审查。
- User Profile（用户中心）：查看/修改个人信息、历史记录。
- VIP Membership（会员服务）：套餐展示、购买、续费。
- Dashboard（仪表盘）：统计图表与快捷入口。

---

# 3. 软件使用说明

## 3.1 主界面

访问 http://localhost:3000，首页展示系统简介和功能入口：文档管理、智能分析、仪表盘、用户中心等。

## 3.2 登录与注册

- 注册：填写用户名、邮箱和密码，提交创建账户。
- 登录：输入账号和密码，获取 JWT 令牌并进入系统。

## 3.3 功能选择

登录后，通过侧边栏或首页快捷入口选择模块：文档管理、摘要生成、关键词提取、文本润色、安全审查、仪表盘、历史记录。

## 3.4 文档上传与管理

1. 点击“文档管理”。
2. 支持批量上传 PDF、DOCX、TXT。
3. 列表显示文档名称、大小、上传时间。
4. 支持在线预览、下载、删除。

## 3.5 摘要生成

1. 选择粘贴文本或已上传文档。
2. 点击“生成摘要”。
3. 查看摘要并支持复制、下载。

## 3.6 关键词提取

1. 输入文本或选择文档。
2. 设置关键词数量和算法。
3. 点击“提取关键词”，查看结果。

## 3.7 文档润色

1. 输入原文或选择文档。
2. 选择润色类型（formal、concise、creative）。
3. 点击“执行润色”，对比并复制结果。

## 3.8 安全审查

1. 输入文本或选择文档。
2. 点击“检测敏感信息”，标记身份信息并输出风险报告。

## 3.9 仪表盘

展示文档总数、分析次数、会员状态等指标，图表可点击进入相应模块。

# 4. 数据库对外接口设计

## 4.1 Users 表

| 字段名      | 类型         | 是否为空 | 主键 | 说明                     |
| ----------- | ------------ | -------- | ---- | ------------------------ |
| id          | BIGINT       | 否       | PK   | 用户唯一 ID，自增        |
| created_at  | DATETIME(6)  | 是       |      | 用户创建时间             |
| email       | VARCHAR(255) | 否       | UK   | 用户邮箱，唯一约束       |
| enabled     | BIT          | 否       |      | 用户是否启用（1=是）     |
| full_name   | VARCHAR(255) | 是       |      | 用户全名                 |
| last_login  | DATETIME(6)  | 是       |      | 最后登录时间             |
| password    | VARCHAR(255) | 否       |      | 加密后的登录密码         |
| updated_at  | DATETIME(6)  | 是       |      | 用户信息更新时间         |
| username    | VARCHAR(255) | 否       | UK   | 用户名，唯一约束         |
| vip         | BIT          | 否       |      | 是否为 VIP 用户（1=是）  |
| avatar_path | VARCHAR(255) | 是       |      | 用户头像文件路径（可选） |

## 4.2 Document 表

| 字段名     | 类型         | 是否为空 | 主键 | 说明                   |
| ---------- | ------------ | -------- | ---- | ---------------------- |
| id         | BIGINT       | 否       | PK   | 自增文档 ID            |
| title      | VARCHAR(255) | 否       |      | 文档标题               |
| file_name  | VARCHAR(255) | 否       |      | 原始文件名             |
| file_type  | VARCHAR(100) | 否       |      | MIME 类型              |
| file_size  | BIGINT       | 否       |      | 文件大小（字节）       |
| file_path  | VARCHAR(512) | 否       |      | MinIO 存储路径         |
| summary    | TEXT         | 是       |      | 文档摘要               |
| keywords   | TEXT         | 是       |      | 提取关键词（逗号分隔） |
| created_at | DATETIME     | 否       |      | 上传时间               |
| user_id    | BIGINT       | 否       |      | 所属用户 ID            |

## 4.3 UserActivity 表

| 字段名        | 类型         | 是否为空 | 主键 | 说明                           |
| ------------- | ------------ | -------- | ---- | ------------------------------ |
| id            | BIGINT       | 否       | PK   | 自增活动 ID                    |
| user_id       | BIGINT       | 否       |      | 用户 ID                        |
| activity_type | VARCHAR(50)  | 否       |      | 活动类型（SUMMARY/KEYWORDS…） |
| document_id   | BIGINT       | 是       |      | 关联文档 ID                    |
| document_name | VARCHAR(255) | 是       |      | 文档标题                       |
| description   | VARCHAR(500) | 是       |      | 活动描述                       |
| created_at    | DATETIME     | 否       |      | 活动发生时间                   |

*文档版本：V1.0*
*最后更新：2025-04-19*
